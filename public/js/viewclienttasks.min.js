function getClientTasks(t){$.get("/api/viewclienttasks",function(a){return t(a)}).catch(handleLoginErr)}function initialiseTables(t){$("#clienttaskstable").DataTable({dom:"Bfrtip",data:t,rowId:"clienttasks_id",columns:[{data:"tasks_title"},{data:"tasks_description"},{data:"clients_name"},{data:"tasks_completedBy"},{data:"clienttasks_status"}],createdRow:function(t,a,e){new Date(a.tasks_completedBy)<new Date&&"Completed"!==a.clienttasks_status&&$(t).addClass("red")}})}function openModel(){M.Modal.getInstance($(".modal")).open()}function closeModel(){M.Modal.getInstance($(".modal")).close()}$(document).ready(function(){$(".modal").modal({dismissible:!1});var t;$("#clienttaskstable tbody").on("click","tr",function(){var a=$("#clienttaskstable").DataTable();t=a.row(this).data(),$("#complete").attr("data-id",t.clienttasks_id),$("#complete").attr("data-status",t.clienttasks_status),$("#tasktitle").text(t.tasks_title),$("#taskdetail").text(t.tasks_description),$("#taskcustname").text(t.clients_name),$("#taskcustaddress").text(t.clients_address),$("#taskcompletedby").text(t.tasks_completedBy),$("#taskstatus").text(t.clienttasks_status),"Assigned"!=$("#taskstatus").text()?$("#complete").hide():$("#complete").show(),openModel()})}),getClientTasks(function(t){initialiseTables(t)});