$(document).ready(function(){var t,i=$("form.signup"),n=$("input#email-input"),a=$("input#password-input"),e=$("input#name-input"),r=$("#usertype"),s=($("#status"),$("#clientid"));$(".msg");$(document).ready(function(){$.get("/api/viewclients",function(t){t.forEach(function(t){var i=$("<option>",{value:t.id,text:t.name});s.append(i)})}).catch(handleLoginErr),$("#usertype").change(function(){"client"==$(this).val()?$("#clientid-div").show():$("#clientid-div").hide()}),$("#usertype").trigger("change")}),i.on("submit",function(i){i.preventDefault(),(t="administrator"==r.val()?{email:n.val().trim(),password:a.val().trim(),name:e.val().trim(),type:r.val(),status:"active"}:{email:n.val().trim(),password:a.val().trim(),name:e.val().trim(),type:r.val(),status:"active",ClientId:s.val().trim()}).email&&t.password&&t.type&&t.name&&t.status&&function(t){$.post("/api/signup",t).then(function(){window.location.replace("/viewusers")}).catch(handleLoginErr)}(t)})});